{"ast":null,"code":"import _classCallCheck from \"/Users/aleksandramironova/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aleksandramironova/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar AuthApi = /*#__PURE__*/function () {\n  function AuthApi(options) {\n    _classCallCheck(this, AuthApi);\n    this._options = options;\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n  _createClass(AuthApi, [{\n    key: \"registerUser\",\n    value: function registerUser(email, password) {\n      var _this = this;\n      return fetch(\"\".concat(this._url, \"/sign-up\"), {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      }).then(function (res) {\n        return _this._handleOriginalResponse(res);\n      });\n    }\n  }, {\n    key: \"loginUser\",\n    value: function loginUser(email, password) {\n      var _this2 = this;\n      return fetch(\"\".concat(this._url, \"/sign-in\"), {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      }).then(function (res) {\n        return _this2._handleOriginalResponse(res);\n      });\n    }\n  }, {\n    key: \"checkToken\",\n    value: function checkToken(token) {\n      var _this3 = this;\n      return fetch(\"\".concat(this._url, \"/users/me\"), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (res) {\n        return _this3._handleOriginalResponse(res);\n      });\n    }\n  }, {\n    key: \"_handleOriginalResponse\",\n    value: function _handleOriginalResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(\"Error: \".concat(res.status));\n    }\n  }]);\n  return AuthApi;\n}();\nvar authApi = new AuthApi({\n  baseUrl: \"https://auth.nomoreparties.co\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default authApi;","map":{"version":3,"names":["AuthApi","options","_classCallCheck","_options","_url","baseUrl","_headers","headers","_createClass","key","value","registerUser","email","password","_this","fetch","concat","method","body","JSON","stringify","then","res","_handleOriginalResponse","loginUser","_this2","checkToken","token","_this3","Authorization","ok","json","Promise","reject","status","authApi"],"sources":["/Users/aleksandramironova/dev/react-mesto-auth/src/utils/authApi.js"],"sourcesContent":["class AuthApi {\n    constructor(options) {\n        this._options = options;\n        this._url = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    registerUser(email, password) {\n        return fetch(`${this._url}/sign-up`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({ email, password }),\n        }).then(res => this._handleOriginalResponse(res));\n    }\n\n    loginUser(email, password) {\n        return fetch(`${this._url}/sign-in`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({ email, password }),\n        }).then(res => this._handleOriginalResponse(res));\n    }\n\n    checkToken(token) {\n        return fetch(`${this._url}/users/me`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`,\n            },\n        }).then(res => this._handleOriginalResponse(res));\n    }\n\n    _handleOriginalResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n    }\n}\n\nconst authApi = new AuthApi({\n    baseUrl: \"https://auth.nomoreparties.co\",\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default authApi;"],"mappings":";;IAAMA,OAAO;EACT,SAAAA,QAAYC,OAAO,EAAE;IAAAC,eAAA,OAAAF,OAAA;IACjB,IAAI,CAACG,QAAQ,GAAGF,OAAO;IACvB,IAAI,CAACG,IAAI,GAAGH,OAAO,CAACI,OAAO;IAC3B,IAAI,CAACC,QAAQ,GAAGL,OAAO,CAACM,OAAO;EACnC;EAACC,YAAA,CAAAR,OAAA;IAAAS,GAAA;IAAAC,KAAA,WAAAC,aAEYC,KAAK,EAAEC,QAAQ,EAAE;MAAA,IAAAC,KAAA;MAC1B,OAAOC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,IAAI,eAAY;QACjCa,MAAM,EAAE,MAAM;QACdV,OAAO,EAAE,IAAI,CAACD,QAAQ;QACtBY,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAER,KAAK,EAALA,KAAK;UAAEC,QAAQ,EAARA;QAAS,CAAC;MAC5C,CAAC,CAAC,CAACQ,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIR,KAAI,CAACS,uBAAuB,CAACD,GAAG,CAAC;MAAA,EAAC;IACrD;EAAC;IAAAb,GAAA;IAAAC,KAAA,WAAAc,UAESZ,KAAK,EAAEC,QAAQ,EAAE;MAAA,IAAAY,MAAA;MACvB,OAAOV,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,IAAI,eAAY;QACjCa,MAAM,EAAE,MAAM;QACdV,OAAO,EAAE,IAAI,CAACD,QAAQ;QACtBY,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAER,KAAK,EAALA,KAAK;UAAEC,QAAQ,EAARA;QAAS,CAAC;MAC5C,CAAC,CAAC,CAACQ,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIG,MAAI,CAACF,uBAAuB,CAACD,GAAG,CAAC;MAAA,EAAC;IACrD;EAAC;IAAAb,GAAA;IAAAC,KAAA,WAAAgB,WAEUC,KAAK,EAAE;MAAA,IAAAC,MAAA;MACd,OAAOb,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,IAAI,gBAAa;QAClCa,MAAM,EAAE,KAAK;QACbV,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClCsB,aAAa,YAAAb,MAAA,CAAYW,KAAK;QAClC;MACJ,CAAC,CAAC,CAACN,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIM,MAAI,CAACL,uBAAuB,CAACD,GAAG,CAAC;MAAA,EAAC;IACrD;EAAC;IAAAb,GAAA;IAAAC,KAAA,WAAAa,wBAEuBD,GAAG,EAAE;MACzB,IAAIA,GAAG,CAACQ,EAAE,EAAE;QACR,OAAOR,GAAG,CAACS,IAAI,EAAE;MACrB;MACA,OAAOC,OAAO,CAACC,MAAM,WAAAjB,MAAA,CAAWM,GAAG,CAACY,MAAM,EAAG;IACjD;EAAC;EAAA,OAAAlC,OAAA;AAAA;AAGL,IAAMmC,OAAO,GAAG,IAAInC,OAAO,CAAC;EACxBK,OAAO,EAAE,+BAA+B;EACxCE,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAEF,eAAe4B,OAAO"},"metadata":{},"sourceType":"module"}