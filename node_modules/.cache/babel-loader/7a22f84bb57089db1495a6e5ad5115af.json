{"ast":null,"code":"import _classCallCheck from \"/Users/aleksandramironova/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aleksandramironova/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar AuthApi = /*#__PURE__*/function () {\n  function AuthApi(options) {\n    _classCallCheck(this, AuthApi);\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n  _createClass(AuthApi, [{\n    key: \"registerUser\",\n    value: function registerUser(email, password) {\n      var _this = this;\n      return fetch(\"\".concat(this._baseUrl, \"/signup\"), {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      }).then(function (res) {\n        return _this._checkResponse(res);\n      });\n    }\n  }, {\n    key: \"loginUser\",\n    value: function loginUser(email, password) {\n      var _this2 = this;\n      return fetch(\"\".concat(this._baseUrl, \"/signin\"), {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      }).then(function (res) {\n        return _this2._checkResponse(res);\n      });\n    }\n  }, {\n    key: \"checkToken\",\n    value: function checkToken(token) {\n      var _this3 = this;\n      return fetch(\"\".concat(this._baseUrl, \"/users/me\"), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (res) {\n        return _this3._checkResponse(res);\n      });\n    }\n  }, {\n    key: \"_checkResponse\",\n    value: function _checkResponse(res) {\n      return res.ok ? res.json() : Promise.reject(\"\".concat(res.status, \" \").concat(res.statusText));\n    }\n  }]);\n  return AuthApi;\n}();\nvar authApi = new AuthApi({\n  baseUrl: \"https://auth.nomoreparties.co\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default authApi;","map":{"version":3,"names":["AuthApi","options","_classCallCheck","_baseUrl","baseUrl","_headers","headers","_createClass","key","value","registerUser","email","password","_this","fetch","concat","method","body","JSON","stringify","then","res","_checkResponse","loginUser","_this2","checkToken","token","_this3","Authorization","ok","json","Promise","reject","status","statusText","authApi"],"sources":["/Users/aleksandramironova/dev/react-mesto-auth/src/utils/authApi.js"],"sourcesContent":["class AuthApi {\n    constructor(options) {\n        this._baseUrl = options.baseUrl\n        this._headers = options.headers\n    }\n\n    registerUser(email, password) {\n        return fetch(`${this._baseUrl}/signup`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({email, password}),\n        }).then(res => this._checkResponse(res));\n    }\n\n    loginUser(email, password) {\n        return fetch(`${this._baseUrl}/signin`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({email, password}),\n        }).then(res => this._checkResponse(res));\n    }\n\n    checkToken(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`,\n            },\n        }).then(res => this._checkResponse(res));\n    }\n\n    _checkResponse(res) {\n        return res.ok\n            ? res.json()\n            : Promise.reject(`${res.status} ${res.statusText}`);\n    }\n}\n\nconst authApi = new AuthApi({\n    baseUrl: \"https://auth.nomoreparties.co\",\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default authApi;"],"mappings":";;IAAMA,OAAO;EACT,SAAAA,QAAYC,OAAO,EAAE;IAAAC,eAAA,OAAAF,OAAA;IACjB,IAAI,CAACG,QAAQ,GAAGF,OAAO,CAACG,OAAO;IAC/B,IAAI,CAACC,QAAQ,GAAGJ,OAAO,CAACK,OAAO;EACnC;EAACC,YAAA,CAAAP,OAAA;IAAAQ,GAAA;IAAAC,KAAA,WAAAC,aAEYC,KAAK,EAAEC,QAAQ,EAAE;MAAA,IAAAC,KAAA;MAC1B,OAAOC,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,QAAQ,cAAW;QACpCa,MAAM,EAAE,MAAM;QACdV,OAAO,EAAE,IAAI,CAACD,QAAQ;QACtBY,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAACR,KAAK,EAALA,KAAK;UAAEC,QAAQ,EAARA;QAAQ,CAAC;MAC1C,CAAC,CAAC,CAACQ,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIR,KAAI,CAACS,cAAc,CAACD,GAAG,CAAC;MAAA,EAAC;IAC5C;EAAC;IAAAb,GAAA;IAAAC,KAAA,WAAAc,UAESZ,KAAK,EAAEC,QAAQ,EAAE;MAAA,IAAAY,MAAA;MACvB,OAAOV,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,QAAQ,cAAW;QACpCa,MAAM,EAAE,MAAM;QACdV,OAAO,EAAE,IAAI,CAACD,QAAQ;QACtBY,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAACR,KAAK,EAALA,KAAK;UAAEC,QAAQ,EAARA;QAAQ,CAAC;MAC1C,CAAC,CAAC,CAACQ,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIG,MAAI,CAACF,cAAc,CAACD,GAAG,CAAC;MAAA,EAAC;IAC5C;EAAC;IAAAb,GAAA;IAAAC,KAAA,WAAAgB,WAEUC,KAAK,EAAE;MAAA,IAAAC,MAAA;MACd,OAAOb,KAAK,IAAAC,MAAA,CAAI,IAAI,CAACZ,QAAQ,gBAAa;QACtCa,MAAM,EAAE,KAAK;QACbV,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClCsB,aAAa,YAAAb,MAAA,CAAYW,KAAK;QAClC;MACJ,CAAC,CAAC,CAACN,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIM,MAAI,CAACL,cAAc,CAACD,GAAG,CAAC;MAAA,EAAC;IAC5C;EAAC;IAAAb,GAAA;IAAAC,KAAA,WAAAa,eAEcD,GAAG,EAAE;MAChB,OAAOA,GAAG,CAACQ,EAAE,GACPR,GAAG,CAACS,IAAI,EAAE,GACVC,OAAO,CAACC,MAAM,IAAAjB,MAAA,CAAIM,GAAG,CAACY,MAAM,OAAAlB,MAAA,CAAIM,GAAG,CAACa,UAAU,EAAG;IAC3D;EAAC;EAAA,OAAAlC,OAAA;AAAA;AAGL,IAAMmC,OAAO,GAAG,IAAInC,OAAO,CAAC;EACxBI,OAAO,EAAE,+BAA+B;EACxCE,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAEF,eAAe6B,OAAO"},"metadata":{},"sourceType":"module"}