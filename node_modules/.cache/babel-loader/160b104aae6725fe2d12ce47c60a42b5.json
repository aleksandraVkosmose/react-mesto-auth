{"ast":null,"code":"import _slicedToArray from \"/Users/aleksandramironova/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useState } from 'react';\nvar useValidation = function useValidation() {\n  var validate = useCallback(function (input, validations) {\n    if (!input.validity.valid) return {\n      result: false,\n      errorMessage: input.validationMessage\n    };\n    for (var validation in validations) {\n      switch (validation) {\n        case 'isEmail':\n          var reEmail = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n          if (!reEmail.test(input.value.toLowerCase())) return {\n            result: false,\n            errorMessage: 'Пожалуйста, введите Email'\n          };\n          break;\n        case 'isUrl':\n          var reUrl = /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i;\n          if (!reUrl.test(input.value.toLowerCase())) return {\n            result: false,\n            errorMessage: 'Пожалуйста, введите URL'\n          };\n          break;\n      }\n    }\n    return {\n      result: true,\n      errorMessage: ''\n    };\n  }, []);\n  return {\n    validate: validate\n  };\n};\nexport var useInput = function useInput(initialValue) {\n  var validations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _useState = useState(initialValue),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var _useValidation = useValidation(),\n    validate = _useValidation.validate;\n  var _useState3 = useState({\n      result: false,\n      errorMessage: ''\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isValid = _useState4[0],\n    setValid = _useState4[1];\n  var onChange = function onChange(e) {\n    setValue(e.target.value);\n    setValid(function () {\n      return validate(e.target, validations);\n    });\n  };\n  var onBlur = function onBlur(e) {\n    setValid(function () {\n      return validate(e.target, validations);\n    });\n  };\n  var clearErrorMessage = useCallback(function () {\n    var res = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return setValid({\n      result: res,\n      errorMessage: ''\n    });\n  }, []);\n  return {\n    value: value,\n    setValue: setValue,\n    onChange: onChange,\n    onBlur: onBlur,\n    isValid: isValid,\n    clearErrorMessage: clearErrorMessage\n  };\n};","map":{"version":3,"names":["useCallback","useState","useValidation","validate","input","validations","validity","valid","result","errorMessage","validationMessage","validation","reEmail","test","value","toLowerCase","reUrl","useInput","initialValue","arguments","length","undefined","_useState","_useState2","_slicedToArray","setValue","_useValidation","_useState3","_useState4","isValid","setValid","onChange","e","target","onBlur","clearErrorMessage","res"],"sources":["/Users/aleksandramironova/dev/react-mesto-auth/src/hooks/input.hook.js"],"sourcesContent":["import { useCallback, useState } from 'react'\n\nconst useValidation = () => {\n  const validate = useCallback((input, validations) => {\n    if (!input.validity.valid)\n      return { result: false, errorMessage: input.validationMessage }\n\n    for (const validation in validations) {\n      switch (validation) {\n        case 'isEmail':\n          const reEmail =\n            /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n          if (!reEmail.test(input.value.toLowerCase()))\n            return { result: false, errorMessage: 'Пожалуйста, введите Email' }\n          break\n        case 'isUrl':\n          const reUrl =\n            /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i\n          if (!reUrl.test(input.value.toLowerCase()))\n            return { result: false, errorMessage: 'Пожалуйста, введите URL' }\n          break\n      }\n    }\n    return { result: true, errorMessage: '' }\n  }, [])\n  return {\n    validate,\n  }\n}\nexport const useInput = (initialValue, validations = {}) => {\n  const [value, setValue] = useState(initialValue)\n  const { validate } = useValidation()\n  const [isValid, setValid] = useState({ result: false, errorMessage: '' })\n\n  const onChange = (e) => {\n    setValue(e.target.value)\n    setValid(() => validate(e.target, validations))\n  }\n  const onBlur = (e) => {\n    setValid(() => validate(e.target, validations))\n  }\n\n  const clearErrorMessage = useCallback(\n    (res = false) => setValid({ result: res, errorMessage: '' }),\n    []\n  )\n\n  return {\n    value,\n    setValue,\n    onChange,\n    onBlur,\n    isValid,\n    clearErrorMessage,\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}